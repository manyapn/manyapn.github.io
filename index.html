<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Manya Pradeep Narayan - Portfolio</title>
  <link href="https://fonts.googleapis.com/css2?family=Literata:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      /* Light Palette (Kindle Paperwhite) */
      --bg: #f4f1ea;
      --page: #faf8f3;
      --text: #2b2b2b;
      --text-light: #5a5a5a;
      --border: #d4d0c8;
      --accent: #4a4a4a;
      --shadow: rgba(0, 0, 0, 0.06);
      --highlight: #fff3a3;

      /* Soft accent inks for pops of color */
      --accent-ink: #7b4b2a;
      --accent-pill: #efe1cf;
      --accent-tag: #f3e3cf;
    }

    body.palette-sepia {
      /* Kindle Sepia (brown, not orange) */
      --bg: #ece3d5;
      --page: #f3ebe2;
      --text: #5b4636;
      --text-light: #90755b;
      --border: #cebaa0;
      --accent: #8a6c47;
      --shadow: rgba(90, 60, 40, 0.09);
      --highlight: #f4e1a1;

      --accent-ink: #7a4b2b;
      --accent-pill: #ebdbc6;
      --accent-tag: #f0e0cd;
    }

    /* New sky / light blue palette */
    body.palette-sky {
      --bg: #e4f0f8;
      --page: #f7fbff;
      --text: #233548;
      --text-light: #5b6b80;
      --border: #c3d6e8;
      --accent: #406b8e;
      --shadow: rgba(0, 40, 80, 0.08);
      --highlight: #fff7b3; /* keep a warm-ish highlight */

      --accent-ink: #325a80;
      --accent-pill: #ddeaf7;
      --accent-tag: #e4f0fb;
    }

    /* Warm Neutrals palette */
    body.palette-warm-neutrals {
      --bg: #f0efeb;
      --page: #fff1e6;
      --text: #1f1a16;
      --text-light: #5b4636;
      --border: #ddbea9;
      --accent: #a5a58d;
      --shadow: rgba(75, 55, 40, 0.12);
      --highlight: #f5e6d3;

      --accent-ink: #5c4033;
      --accent-pill: #fff1e6;
      --accent-tag: #eddcd2;
    }

    /* Pastel palette - soft pinks */
    body.palette-pastel {
      --bg: #fce4ec;
      --page: #fff8fa;
      --text: #2d1f24;
      --text-light: #5c4a50;
      --border: #f4c2d0;
      --accent: #e89fb5;
      --shadow: rgba(90, 50, 60, 0.1);
      --highlight: #ffd6e0;

      --accent-ink: #8b4a5e;
      --accent-pill: #fff0f4;
      --accent-tag: #fce4ec;
    }

    /* Lavender Haze palette */
    body.palette-lavender {
      --bg: #ece4f0;
      --page: #fcf7ff;
      --text: #1a1525;
      --text-light: #4a3860;
      --border: #d4c4e0;
      --accent: #9b89b3;
      --shadow: rgba(132, 94, 194, 0.12);
      --highlight: #e8ddf5;

      --accent-ink: #5c4a78;
      --accent-pill: #f5f0fa;
      --accent-tag: #ebe0f5;
    }

    /* Spot palette (blue/cyan with orange accents) */
    body.palette-spot {
      --bg: #e0f4fa;
      --page: #f2fbff;
      --text: #1a2530;
      --text-light: #3d5060;
      --border: #b8d4e8;
      --accent: #6d8196;
      --shadow: rgba(50, 80, 110, 0.12);
      --highlight: #fff0d4;

      --accent-ink: #2d5a7a;
      --accent-pill: #e8f6fc;
      --accent-tag: #d0e8f4;
    }

    /* Clean off-white palette */
    body.palette-clean {
      --bg: #f5f5f3;
      --page: #fcfcfa;
      --text: #1a1a1a;
      --text-light: #555555;
      --border: #e0e0de;
      --accent: #666666;
      --shadow: rgba(0, 0, 0, 0.08);
      --highlight: #f0f0e8;

      --accent-ink: #2a2a2a;
      --accent-pill: #f8f8f6;
      --accent-tag: #eeeeec;
    }

    [data-theme="dark"] {
      --bg: #1a1a1a;
      --page: #232323;
      --text: #d4d0c8;
      --text-light: #8a8a8a;
      --border: #3a3a3a;
      --accent: #a8a8a8;
      --shadow: rgba(0, 0, 0, 0.28);
      --highlight: #5a5200;

      --accent-ink: #f0c58a;
      --accent-pill: #3a2b1a;
      --accent-tag: #3b3124;
    }

    /* Highlighted text */
    .highlight-mark {
      background: var(--highlight);
      padding: 2px 1px;
      border-radius: 3px;
      cursor: pointer;
      box-shadow: 0 0 0 1px rgba(123, 75, 42, 0.12);
    }

    body {
      font-family: 'Literata', serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.7;
      font-size: 18px;
      transition: all 0.4s ease;
      -webkit-font-smoothing: antialiased;
    }

    .sans { font-family: 'Inter', sans-serif; }

    header {
      position: -webkit-sticky;
      position: sticky;
      top: 0;
      background: var(--page);
      border-bottom: 1px solid var(--border);
      z-index: 100;
      box-shadow: 0 2px 8px var(--shadow);
    }

    .header-container {
      max-width: 800px;
      margin: 0 auto;
      padding: 18px 36px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .device-status {
      display: flex;
      gap: 27px;
      align-items: center;
      font-family: 'Inter', sans-serif;
      font-size: 13.5px;
      color: var(--text-light);
    }

    .battery {
      display: flex;
      align-items: center;
      gap: 0.3rem;
    }

    .battery-icon {
      width: 20px;
      height: 10px;
      border: 1.5px solid var(--text-light);
      border-radius: 2px;
      position: relative;
    }

    .battery-icon::after {
      content: '';
      position: absolute;
      right: -3px;
      top: 2px;
      width: 2px;
      height: 4px;
      background: var(--text-light);
      border-radius: 0 2px 2px 0;
    }

    .battery-fill {
      position: absolute;
      left: 1px;
      top: 1px;
      bottom: 1px;
      width: 70%; /* will be overridden by JS */
      background: var(--text-light);
      border-radius: 1px;
      transition: width 0.3s ease, background-color 0.3s ease;
    }

    .logo {
      font-size: 18px;
      font-weight: 600;
      color: var(--text);
      text-decoration: none;
      font-family: 'Inter', sans-serif;
      letter-spacing: -0.01em;
    }

    .controls {
      display: flex;
      gap: 18px;
      align-items: center;
    }

    .theme-toggle,
    .font-size-btn,
    .highlight-btn {
      background: transparent;
      border: 1px solid var(--border);
      color: var(--text);
      padding: 7px 14px;
      border-radius: 4px;
      cursor: pointer;
      font-family: 'Inter', sans-serif;
      font-size: 13.5px;
      transition: all 0.3s;
      font-weight: 600;
    }

    .theme-toggle:hover,
    .font-size-btn:hover,
    .highlight-btn:hover {
      background: var(--accent-pill);
      border-color: var(--accent-ink);
      color: var(--accent-ink);
    }

    /* Tooltip wrapper for highlight */
    .highlight-wrapper {
      position: relative;
      display: inline-flex;
      align-items: center;
    }

    .highlight-tooltip {
      position: absolute;
      top: 120%;
      right: 0;
      width: 240px;
      background: var(--page);
      border: 1px solid var(--border);
      box-shadow: 0 4px 16px var(--shadow);
      padding: 0.75rem 0.9rem;
      border-radius: 6px;
      font-family: 'Inter', sans-serif;
      font-size: 0.75rem;
      color: var(--text-light);
      line-height: 1.5;
      opacity: 0;
      pointer-events: none;
      transform: translateY(4px);
      transition: opacity 0.2s ease, transform 0.2s ease;
      z-index: 200;
    }

    .highlight-tooltip::before {
      content: "";
      position: absolute;
      top: -6px;
      right: 14px;
      border-width: 0 6px 6px 6px;
      border-style: solid;
      border-color: transparent transparent var(--border) transparent;
    }

    .highlight-tooltip::after {
      content: "";
      position: absolute;
      top: -5px;
      right: 15px;
      border-width: 0 5px 5px 5px;
      border-style: solid;
      border-color: transparent transparent var(--page) transparent;
    }

    /* Hamburger menu button */
    .menu-toggle {
      display: none;
      background: transparent;
      border: 1px solid var(--border);
      color: var(--text);
      width: 40px;
      height: 40px;
      border-radius: 4px;
      cursor: pointer;
      font-family: 'Inter', sans-serif;
      font-size: 18px;
      transition: all 0.3s;
      align-items: center;
      justify-content: center;
    }

    .menu-toggle:hover {
      background: var(--accent-pill);
      border-color: var(--accent-ink);
      color: var(--accent-ink);
    }

    /* Mobile dropdown menu */
    .mobile-menu {
      position: absolute;
      top: 100%;
      right: 0;
      left: 0;
      background: var(--page);
      border-bottom: 1px solid var(--border);
      box-shadow: 0 4px 12px var(--shadow);
      padding: 16px 24px;
      flex-direction: column;
      gap: 12px;
      z-index: 99;
      display: flex;
      max-height: 0;
      overflow: hidden;
      padding: 0 24px;
      opacity: 0;
      transition: max-height 0.3s ease, padding 0.3s ease, opacity 0.2s ease;
    }

    .mobile-menu.open {
      max-height: 200px;
      padding: 16px 24px;
      opacity: 1;
    }

    .mobile-menu-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .mobile-menu-label {
      font-family: 'Inter', sans-serif;
      font-size: 13px;
      color: var(--text-light);
      font-weight: 500;
    }

    .mobile-menu-buttons {
      display: flex;
      gap: 8px;
    }

    .highlight-wrapper:hover .highlight-tooltip {
      opacity: 1;
      pointer-events: auto;
      transform: translateY(0);
    }

    .progress-container {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: var(--border);
      z-index: 100;
    }

    .progress-bar {
      height: 100%;
      background: var(--accent-ink);
      width: 0%;
      transition: width 0.3s ease;
    }

    .page {
      max-width: 800px;
      margin: 0 auto;
      background: var(--page);
      min-height: 100vh;
      box-shadow: 0 0 30px var(--shadow);
    }

    .page-content { padding: 4rem 3rem; }

    .chapter {
      font-family: 'Inter', sans-serif;
      font-size: 0.7rem;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--accent-ink);
      margin-bottom: 1rem;
      font-weight: 600;
    }

    section {
      padding: 5rem 0;
      border-bottom: 1px solid var(--border);
      position: relative;
    }

    section:last-of-type { border-bottom: none; }

    .section-title {
      font-size: 2.5rem;
      font-weight: 600;
      margin-bottom: 3rem;
      line-height: 1.3;
    }

    .hero {
      padding: 6rem 0;
      text-align: center;
    }

    .hero-illustration {
      width: 30rem;
      height: 30rem;
      margin: 0 auto 0.1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 1;
    }

    .hero-illustration img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    .hero-title {
      font-size: 3.5rem;
      font-weight: 700;
      margin-bottom: 1.5rem;
      line-height: 1.2;
    }

    #typingText {
      border-right: 3px solid var(--accent-ink);
      padding-right: 5px;
      animation: blink 0.7s step-end infinite;
      display: inline-block;
    }

    @keyframes blink {
      from, to { border-color: transparent; }
      50% { border-color: var(--accent-ink); }
    }

    .hero-subtitle {
      font-size: 1.3rem;
      color: var(--text-light);
      margin-bottom: 2rem;
      line-height: 1.6;
    }

    .hero-meta {
      font-family: 'Inter', sans-serif;
      font-size: 0.9rem;
      color: var(--accent-ink);
      margin-top: 2rem;
    }

    .about-content {
      font-size: 1.1rem;
      line-height: 1.8;
      margin-bottom: 3rem;
    }

    .about-content p { margin-bottom: 1.5rem; }

    .skills-categories {
      margin-top: 2.5rem;
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .skill-category {
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 1.25rem 1.5rem;
      background: var(--bg);
    }

    .skill-category-title {
      font-family: 'Inter', sans-serif;
      font-size: 0.7rem;
      font-weight: 600;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--text-light);
      margin-bottom: 0.75rem;
    }

    .skill-category-items {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      max-width: 100%;
    }

    .skill-box {
      border: 1px solid var(--border);
      padding: 0.5rem 1rem;
      text-align: center;
      border-radius: 999px;
      background: var(--accent-pill);
      transition: all 0.3s;
      font-family: 'Inter', sans-serif;
      font-size: 0.8rem;
      font-weight: 500;
      color: var(--accent-ink);
    }

    .skill-box:hover {
      border-color: var(--accent-ink);
      transform: translateY(-1px);
      box-shadow: 0 2px 6px var(--shadow);
    }

    /* Accordion Experience Styles */
    .accordion-list {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      margin-top: 1.5rem;
    }

    .accordion-item {
      border: 1px solid var(--border);
      border-radius: 6px;
      background: var(--bg);
      overflow: hidden;
      transition: box-shadow 0.2s ease;
    }

    .accordion-item:hover {
      box-shadow: 0 2px 8px var(--shadow);
    }

    .accordion-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 1.25rem;
      cursor: pointer;
      user-select: none;
      transition: background 0.2s ease;
    }

    .accordion-header:hover {
      background: var(--page);
    }

    .accordion-header-left {
      display: flex;
      flex-direction: column;
      gap: 0.2rem;
    }

    .accordion-label {
      font-family: 'Inter', sans-serif;
      font-size: 0.65rem;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--text-light);
    }

    .accordion-title {
      font-size: 1.1rem;
      font-weight: 600;
      line-height: 1.3;
    }

    .accordion-meta {
      font-family: 'Inter', sans-serif;
      font-size: 0.8rem;
      color: var(--text-light);
      margin-top: 0.15rem;
    }

    .accordion-toggle {
      font-family: 'Inter', sans-serif;
      font-size: 0.75rem;
      color: var(--accent-ink);
      transition: transform 0.2s ease;
    }

    .accordion-item.open .accordion-toggle {
      transform: rotate(180deg);
    }

    .accordion-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
    }

    .accordion-item.open .accordion-content {
      max-height: 2000px;
    }

    .accordion-inner {
      padding: 0 1.25rem 1.25rem;
      border-top: 1px solid var(--border);
    }

    .accordion-text {
      padding-top: 1rem;
    }

    .accordion-text p {
      font-size: 0.95rem;
      line-height: 1.7;
      margin-bottom: 0.75rem;
    }

    .accordion-text ul {
      margin: 0 0 0.5rem 1rem;
      padding-left: 0.75rem;
      list-style: disc;
      font-size: 0.95rem;
    }

    .accordion-text li {
      margin-bottom: 0.3rem;
      line-height: 1.6;
    }

    .accordion-photos {
      display: none;
      padding-top: 1rem;
    }

    .accordion-photos.active {
      display: block;
    }

    .accordion-text.hidden {
      display: none;
    }

    .accordion-photo-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 0.75rem;
    }

    .accordion-photo-grid img {
      width: 100%;
      height: 120px;
      object-fit: cover;
      border-radius: 4px;
      border: 1px solid var(--border);
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .accordion-photo-grid img:hover {
      transform: scale(1.02);
      box-shadow: 0 4px 12px var(--shadow);
    }

    .view-toggle-btn {
      font-family: 'Inter', sans-serif;
      font-size: 0.75rem;
      color: var(--accent-ink);
      background: var(--accent-pill);
      border: 1px solid var(--accent-ink);
      padding: 0.35rem 0.75rem;
      border-radius: 999px;
      cursor: pointer;
      margin-top: 0.75rem;
      transition: background 0.2s ease, color 0.2s ease;
    }

    .view-toggle-btn:hover {
      background: var(--accent-ink);
      color: var(--page);
    }

    @media (max-width: 480px) {
      .accordion-header {
        padding: 0.85rem 1rem;
      }
      .accordion-header-left {
        max-width: calc(100% - 30px);
      }
      .accordion-title {
        font-size: 1rem;
      }
      .accordion-meta {
        word-break: break-word;
        font-size: 0.7rem;
      }
      .accordion-photo-grid {
        grid-template-columns: 1fr 1fr;
      }
    }

    /* Cornell Data Journal definition tooltip */
    .definition-link {
      position: relative;
      text-decoration: underline dotted;
      text-decoration-thickness: 1px;
      text-underline-offset: 2px;
      cursor: pointer;
    }

    .definition-popover {
      position: absolute;
      left: 0;
      top: 130%;
      min-width: 140px;
      max-width: 200px;
      font-family: 'Inter', sans-serif;
      font-size: 0.75rem;
      background: var(--page);
      border: 1px solid var(--border);
      box-shadow: 0 4px 14px var(--shadow);
      border-radius: 4px;
      padding: 0.45rem 0.6rem;
      color: var(--text-light);
      opacity: 0;
      pointer-events: none;
      transform: translateY(4px);
      transition: opacity 0.15s ease, transform 0.15s ease;
      z-index: 150;
      white-space: nowrap;
    }

    .definition-link:hover .definition-popover,
    .definition-link:focus-visible .definition-popover {
      opacity: 1;
      pointer-events: auto;
      transform: translateY(0);
    }

    .definition-link:focus-visible {
      outline: 2px solid var(--accent-ink);
      outline-offset: 2px;
    }

    .projects-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1.5rem;
    }

    .project-card {
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 1.5rem;
      transition: all 0.3s ease;
      background: var(--bg);
      cursor: pointer;
      display: flex;
      flex-direction: column;
    }

    .project-card:hover {
      box-shadow: 0 8px 24px var(--shadow);
      transform: translateY(-4px);
      border-color: var(--accent-ink);
    }

    .project-number {
      font-family: 'Inter', sans-serif;
      font-size: 0.7rem;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--accent-ink);
      margin-bottom: 0.4rem;
    }

    .project-title {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 0.75rem;
      line-height: 1.3;
    }

    .project-desc {
      font-size: 0.9rem;
      line-height: 1.6;
      color: var(--text-light);
      margin-bottom: 0;
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .project-desc.expanded {
      display: block;
      -webkit-line-clamp: unset;
      overflow: visible;
    }

    .project-read-more {
      display: block;
      font-family: 'Inter', sans-serif;
      font-size: 0.8rem;
      color: var(--accent-ink);
      background: none;
      border: none;
      padding: 0;
      cursor: pointer;
      margin: 0.4rem 0 0.75rem 0;
      font-weight: 500;
      text-align: left;
    }

    .project-read-more:hover {
      text-decoration: underline;
    }

    .project-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 0.4rem;
      margin-bottom: 1rem;
      max-width: 100%;
      margin-top: auto;
    }

    .tag {
      font-family: 'Inter', sans-serif;
      font-size: 0.7rem;
      padding: 0.25rem 0.6rem;
      border-radius: 999px;
      border: 1px solid transparent;
      background: var(--accent-tag);
      color: var(--accent-ink);
    }

    .project-link {
      font-family: 'Inter', sans-serif;
      font-size: 0.9rem;
      color: var(--accent-ink);
      text-decoration: none;
      font-weight: 500;
      transition: all 0.3s;
    }

    .project-link:hover { text-decoration: underline; }

    .contact-content {
      text-align: center;
      max-width: 600px;
      margin: 0 auto;
    }

    .contact-illustration {
      width: 150px;
      height: 150px;
      margin: 0 auto 2rem;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .contact-text {
      font-size: 1.2rem;
      line-height: 1.8;
      color: var(--text-light);
      margin-bottom: 3rem;
    }

    .contact-links {
      display: flex;
      gap: 1.5rem;
      justify-content: center;
      flex-wrap: wrap;
    }

    .contact-button {
      font-family: 'Inter', sans-serif;
      padding: 0.8rem 2rem;
      border: 2px solid var(--accent-ink);
      background: transparent;
      color: var(--accent-ink);
      text-decoration: none;
      border-radius: 999px;
      font-size: 0.95rem;
      font-weight: 500;
      transition: all 0.3s;
      cursor: pointer;
      background: var(--accent-pill);
    }

    .contact-button:hover {
      background: var(--accent-ink);
      color: var(--page);
    }

    footer {
      padding: 3rem 0;
      text-align: center;
      font-family: 'Inter', sans-serif;
    }

    .footer-text {
      font-size: 0.85rem;
      color: var(--text-light);
      line-height: 1.6;
    }

    .page-number {
      margin-top: 1rem;
      font-size: 0.75rem;
      color: var(--text-light);
    }

    .bookmark {
      position: fixed;
      right: 2rem;
      top: 130px; /* below highlights button */
      width: 40px;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      z-index: 50;
    }

    .bookmark-item {
      width: 40px;
      height: 50px;
      background: var(--accent-ink);
      clip-path: polygon(0 0, 100% 0, 100% 85%, 50% 100%, 0 85%);
      cursor: pointer;
      transition: all 0.3s;
      opacity: 0.35;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--page);
      font-family: 'Inter', sans-serif;
      font-size: 0.7rem;
      font-weight: 600;
    }

    .bookmark-item:hover,
    .bookmark-item.active {
      opacity: 1;
      transform: translateX(-5px);
    }

    @media (max-width: 768px) {
      html, body {
        overflow-x: hidden;
      }
      .page {
        max-width: 100%;
        overflow-x: hidden;
      }
      /* Mobile header */
      .header-container {
        padding: 12px 20px;
      }
      .device-status {
        display: none;
      }
      .controls {
        display: none;
      }
      .menu-toggle {
        display: flex;
      }
      .page-content { padding: 2.5rem 1.5rem; }
      section { padding: 2.5rem 0; }
      .hero { padding: 3rem 0; }
      .hero-illustration { width: 280px; height: 280px; }
      .hero-title { font-size: 2rem; }
      .hero-subtitle { font-size: 1.1rem; }
      .hero-meta { font-size: 0.85rem; }
      .section-title { font-size: 1.75rem; margin-bottom: 2rem; }
      .about-content { margin-bottom: 2rem; font-size: 1rem; }
      .bookmark { display: none; }
      .highlights { display: none; }
      .contact-illustration {
        margin-bottom: 1rem;
      }
      .contact-text {
        margin-bottom: 1.5rem;
      }
      .contact-links {
        flex-direction: column;
        gap: 0.75rem;
      }
      .contact-button { width: 100%; }
      .highlight-tooltip {
        right: auto;
        left: 0;
      }
      .projects-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
      }
      .project-card {
        padding: 1.25rem;
      }
      .project-title {
        font-size: 1.15rem;
      }
      .project-desc {
        font-size: 0.85rem;
        -webkit-line-clamp: 2;
      }
      .skill-category {
        padding: 1rem;
      }
      .skill-box {
        font-size: 0.75rem;
        padding: 0.4rem 0.75rem;
      }
    }

    @media (max-width: 480px) {
      body { font-size: 16px; }
      .page-content { padding: 1.5rem 1rem; }
      .hero { padding: 2rem 0; }
      .hero-illustration { width: 240px; height: 240px; }
      .hero-title { font-size: 1.6rem; }
      .hero-subtitle { font-size: 1rem; }
      .section-title { font-size: 1.5rem; }
      .chapter {
        font-size: 0.65rem;
      }
      .accordion-title {
        font-size: 0.95rem;
      }
      .accordion-meta {
        font-size: 0.7rem;
      }
      .accordion-header {
        padding: 0.75rem 1rem;
      }
      .accordion-inner {
        padding: 0 1rem 1rem;
      }
      .accordion-text p,
      .accordion-text ul {
        font-size: 0.9rem;
      }
      .project-card {
        padding: 1rem;
      }
      .project-number {
        font-size: 0.65rem;
      }
      .project-title {
        font-size: 1.05rem;
      }
      .project-desc {
        font-size: 0.8rem;
      }
      .projects-grid {
        gap: 0.75rem;
      }
      .contact-illustration {
        width: 100px;
        height: 100px;
        margin-bottom: 0.75rem;
      }
      .contact-text {
        font-size: 1rem;
        margin-bottom: 1rem;
      }
      .contact-links {
        gap: 0.5rem;
      }
      .footer-text {
        font-size: 0.75rem;
      }
    }

    a {
      color: var(--accent-ink);
      transition: all 0.3s;
    }

    a:hover {
      color: var(--accent-ink);
      text-decoration: underline;
    }

    .reveal-section {
      opacity: 0;
      transform: translateY(16px);
      transition: opacity 0.7s ease, transform 0.7s ease;
    }

    .reveal-section.is-visible {
      opacity: 1;
      transform: translateY(0);
    }

    button,
    .contact-button,
    .carousel-btn {
      transition: transform 0.12s ease, box-shadow 0.12s ease, background 0.3s ease, color 0.3s ease;
    }

    button:active,
    .contact-button:active,
    .carousel-btn:active {
      transform: scale(0.96);
      box-shadow: 0 1px 4px var(--shadow);
    }

    @keyframes bookmarkPulse {
      0% { transform: translateX(-5px) scale(1); }
      50% { transform: translateX(-5px) scale(1.04); }
      100% { transform: translateX(-5px) scale(1); }
    }

    .bookmark-item.active {
      opacity: 1;
      transform: translateX(-5px);
      animation: bookmarkPulse 3s ease-in-out infinite;
    }

    #paper-plane {
      width: 7rem;
      height: 7rem;
      margin: 0 auto 0.1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 1;
    }

    #paper-plane img {
      width: 100%;
      height: 100%;
      object-fit: scale-down;
    }

    /* Highlights UI */
    .highlights {
      position: fixed;
      right: 2rem;
      top: 80px; /* below sticky header, above bookmark bar */
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 0.4rem;
      z-index: 200; /* above header & bookmarks */
    }

    .highlights-toggle {
      background: var(--accent-pill);
      border: 1px solid var(--accent-ink);
      color: var(--accent-ink);
      width: 34px;
      height: 34px;
      border-radius: 50%;
      cursor: pointer;
      font-family: 'Inter', sans-serif;
      font-size: 0.85rem;
      font-weight: 600;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0;
      box-shadow: 0 2px 6px var(--shadow);
    }

    .highlights-toggle:hover {
      background: var(--accent-ink);
      color: var(--page);
    }

    .highlights-panel {
      position: absolute;
      top: 40px;
      right: 48px;
      width: 230px;
      max-height: 260px;
      background: var(--page);
      border: 1px solid var(--border);
      box-shadow: 0 6px 18px var(--shadow);
      border-radius: 6px;
      padding: 0.6rem 0.7rem 0.5rem;
      font-family: 'Inter', sans-serif;
      font-size: 0.8rem;
      overflow-y: auto;
      opacity: 0;
      pointer-events: none;
      transform: translateY(6px);
      transition: opacity 0.2s ease, transform 0.2s ease;
    }

    .highlights-panel.open {
      opacity: 1;
      pointer-events: auto;
      transform: translateY(0);
    }

    .highlights-header {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--text-light);
      margin-bottom: 0.4rem;
    }

    /* Section heading inside highlights list */
    .highlight-section-heading {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      margin-top: 0.4rem;
      margin-bottom: 0.1rem;
      color: var(--text-light);
      padding: 0.25rem 0.4rem 0;
    }

    #highlightsList {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      flex-direction: column;
      gap: 0.35rem;
    }

    .highlight-item {
      padding: 0.35rem 0.4rem;
      border-radius: 4px;
      border: 1px solid transparent;
      cursor: pointer;
      line-height: 1.4;
      color: var(--text-light);
    }

    .highlight-item:hover {
      background: var(--bg);
      border-color: var(--border);
      color: var(--text);
    }

    /* When we jump to a highlight, give it a quick focus ring */
    .highlight-mark.highlight-focus {
      outline: 2px solid var(--accent-ink);
      outline-offset: 2px;
    }

    /* Hide highlights button on mobile (must come after base .highlights styles) */
    @media (max-width: 768px) {
      .highlights {
        display: none;
      }
    }

  </style>
</head>

<body data-theme="light">

  <header>
    <div class="header-container">

      <div class="device-status">
        <span class="time">2:47 PM</span>
        <div class="battery">
          <div class="battery-icon">
            <div class="battery-fill"></div>
          </div>
          <span>75%</span>
        </div>
      </div>

      <a href="#" class="logo">Portfolio</a>

      <div class="controls">
        <button class="font-size-btn" id="fontDecrease">A-</button>
        <button class="font-size-btn" id="fontIncrease">A+</button>

        <!-- Highlight button + tooltip -->
        <div class="highlight-wrapper">
          <button class="highlight-btn" id="highlightBtn">Highlight</button>
          <div class="highlight-tooltip">
            <strong>How highlighting works</strong><br>
            1. Select any text on the page.<br>
            2. Click <em>Highlight</em> to mark it.<br>
            3. Click a highlighted passage to remove it. <br>
            4. To access your highlights, click the <em>âœ¶</em> button on the right
          </div>
        </div>

        <button class="theme-toggle" id="themeToggle">Switch to Sepia</button>
      </div>

      <!-- Mobile hamburger button -->
      <button class="menu-toggle" id="menuToggle" aria-label="Menu">â˜°</button>

    </div>

    <!-- Mobile dropdown menu -->
    <div class="mobile-menu" id="mobileMenu">
      <div class="mobile-menu-row">
        <span class="mobile-menu-label">Font Size</span>
        <div class="mobile-menu-buttons">
          <button class="font-size-btn" id="fontDecreaseMobile">A-</button>
          <button class="font-size-btn" id="fontIncreaseMobile">A+</button>
        </div>
      </div>
      <div class="mobile-menu-row">
        <span class="mobile-menu-label">Theme</span>
        <button class="theme-toggle" id="themeToggleMobile">Switch to Sepia</button>
      </div>
    </div>
  </header>

  <div class="progress-container">
    <div class="progress-bar" id="progressBar"></div>
  </div>

  <!-- Highlights stack -->
  <div class="highlights">
    <button id="highlightsToggle" class="highlights-toggle" aria-label="Highlights">âœ¶</button>
    <div id="highlightsPanel" class="highlights-panel">
      <div class="highlights-header">Highlights</div>
      <ul id="highlightsList"></ul>
    </div>
  </div>

  <!-- Bookmark navigation -->
  <div class="bookmark">
    <div class="bookmark-item active" data-section="hero"> â˜…</div>
    <div class="bookmark-item" data-section="about">ð–¨†</div>
    <div class="bookmark-item" data-section="experience">âœ¦</div>
    <div class="bookmark-item" data-section="projects">ëª¨</div>
    <div class="bookmark-item" data-section="contact">âŒ¯âŒ²</div>
  </div>

  <div class="page">
    <main class="page-content">

      <!-- Hero -->
      <section id="hero" class="hero">
        <div class="hero-illustration">
          <img src="light-mode.PNG" alt="Light Mode Illustration" />
        </div>
        <h1 class="hero-title"><span id="typingText"></span></h1>
        <p class="hero-subtitle">Studying Computer Science @ Cornell University</p>
        <p class="hero-meta">Hometown: Seattle, WA Â· Available for Opportunities</p>
      </section>

      <!-- About -->
      <section id="about">
        <p class="chapter">Chapter One</p>
        <h2 class="section-title">About Me</h2>
        <div class="about-content">
          <p>I'm a <strong>Computer Science student at Cornell University</strong> with a passion for using technology to expand <strong>access, equity, and opportunity</strong>. My work often sits at the intersection of <strong>tech, education, and social impact</strong>, whether building tools to support underserved students, designing inclusive learning experiences, or empowering young girls to explore STEM through programs like Girls Who Code.</p>

          <p>I'm especially interested in how <strong>thoughtful design and human-centered computing</strong> can make technology more equitable. Previously, I've led initiatives focused on accessible tech education, spoken on panels about diversity in STEM, and developed digital resources to help level the playing field for students across Washington State.</p>

          <p>When I'm not writing code, you'll find me reading (this website is inspired by my first favorite piece of technology, a Kindle Paperwhite), exploring new coffee shops, or spending time with friends and family.</p>
        </div>

        <div class="skills-categories">
          <div class="skill-category">
            <h4 class="skill-category-title">Languages</h4>
            <div class="skill-category-items">
              <span class="skill-box">Python</span>
              <span class="skill-box">Java</span>
              <span class="skill-box">JavaScript</span>
              <span class="skill-box">TypeScript</span>
              <span class="skill-box">HTML5</span>
              <span class="skill-box">CSS3</span>
            </div>
          </div>
          <div class="skill-category">
            <h4 class="skill-category-title">Frameworks &amp; Libraries</h4>
            <div class="skill-category-items">
              <span class="skill-box">React</span>
              <span class="skill-box">Vue.js</span>
              <span class="skill-box">Next.js</span>
              <span class="skill-box">Nuxt</span>
              <span class="skill-box">Node.js</span>
              <span class="skill-box">Flask</span>
              <span class="skill-box">Tailwind CSS</span>
            </div>
          </div>
          <div class="skill-category">
            <h4 class="skill-category-title">Developer Tools</h4>
            <div class="skill-category-items">
              <span class="skill-box">Git/GitHub</span>
              <span class="skill-box">VS Code</span>
              <span class="skill-box">IntelliJ</span>
              <span class="skill-box">Figma</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Experiences / Accordion -->
      <section id="experience">
        <p class="chapter">Chapter Two</p>
        <h2 class="section-title">Things I've Done</h2>

        <div class="accordion-list">

          <!-- Cornell University -->
          <article class="accordion-item" data-accordion>
            <div class="accordion-header">
              <div class="accordion-header-left">
                <span class="accordion-label">Present</span>
                <h3 class="accordion-title">Cornell University</h3>
              </div>
              <span class="accordion-toggle">â–¼</span>
            </div>
            <div class="accordion-content">
              <div class="accordion-inner">
                <div class="accordion-text">
                  <p>University life has given me the chance to dive into communities that challenge me, inspire me, and help me grow as both a technologist and a collaborator.</p>
                  <ul>
                    <li><strong>Developer, Engineers Without Borders:</strong> Building tools and solutions that create real impact for communities around me.</li>
                    <li><strong>Developer, Women in Computing:</strong> Creating resources and internal tools that support an inclusive tech community.</li>
                    <li><strong>Analyst, Cornell Data Journal:</strong> Exploring data-driven storytelling and research.</li>
                    <li><strong>Member, Kappa Theta Pi:</strong> Part of Cornell's professional tech fraternity.</li>
                    <li><strong>Mentor, Girls Who Code:</strong> Helping younger students discover confidence in coding.</li>
                  </ul>
                  <p style="margin-top: 1.25rem; margin-bottom: 0.5rem;"><strong>Classes Taken/Taking</strong></p>
                  <ul>
                    <li><strong>Fall 2025:</strong> CS 2110 (Object-Oriented Programming and Data Structures), MATH 2210 (Linear Algebra)</li>
                    <li><strong>Spring 2026:</strong> CS 3110 (Functional Programming), CS 2800 (Discrete Math), STSCI 3200 (Statistics II), INFO 1340 (Books as Data), INFO 4210 (AI: Law, Ethics and Policy)</li>
                  </ul>
                </div>
              </div>
            </div>
          </article>

          <!-- Washington DECA -->
          <article class="accordion-item" data-accordion data-has-photos>
            <div class="accordion-header">
              <div class="accordion-header-left">
                <span class="accordion-label">Leadership</span>
                <h3 class="accordion-title">Washington DECA</h3>
                <span class="accordion-meta">State President Â· Area 3 President Â· VP of Career Development</span>
              </div>
              <span class="accordion-toggle">â–¼</span>
            </div>
            <div class="accordion-content">
              <div class="accordion-inner">
                <div class="accordion-text">
                  <ul>
                    <li><strong>State President:</strong> Represented 16,000+ students, guided a 12-member executive team, and launched 20+ statewide initiatives including an AI-powered test prep chatbot.</li>
                    <li><strong>Board of Directors:</strong> Served as the first high school student appointed to Washington DECA's Board.</li>
                    <li><strong>Area 3 President:</strong> Represented the largest DECA Area in the state (2,000+ students).</li>
                    <li><strong>Innovation and Advocacy:</strong> Founded a 16-person team that created a statewide leadership resource hub used by 165+ schools.</li>
                  </ul>
                  <button class="view-toggle-btn" data-view-toggle>See Photos</button>
                </div>
                <div class="accordion-photos">
                  <div class="accordion-photo-grid">
                    <img src="deca1.jpg" alt="Washington DECA event 1">
                    <img src="deca2.jpg" alt="Washington DECA event 2">
                    <img src="deca3.PNG" alt="Washington DECA event 3">
                    <img src="deca4.jpeg" alt="Washington DECA event 4">
                  </div>
                  <button class="view-toggle-btn" data-view-toggle>See Text</button>
                </div>
              </div>
            </div>
          </article>

          <!-- Girls Who Code -->
          <article class="accordion-item" data-accordion data-has-photos>
            <div class="accordion-header">
              <div class="accordion-header-left">
                <span class="accordion-label">Education</span>
                <h3 class="accordion-title">Girls Who Code @ Eastlake High School</h3>
                <span class="accordion-meta">Co-Lead Â· Workshop Organizer Â· Community Builder</span>
              </div>
              <span class="accordion-toggle">â–¼</span>
            </div>
            <div class="accordion-content">
              <div class="accordion-inner">
                <div class="accordion-text">
                  <ul>
                    <li><strong>Co-led a 100+ member chapter:</strong> Organized bi-weekly workshops focused on building skills and confidence.</li>
                    <li><strong>Expanded membership by 35%:</strong> Centered inclusivity, accessibility, and community.</li>
                    <li><strong>Founded Girls Who Code Jr.:</strong> Designed monthly workshops for elementary students.</li>
                  </ul>
                  <button class="view-toggle-btn" data-view-toggle>See Photos</button>
                </div>
                <div class="accordion-photos">
                  <div class="accordion-photo-grid">
                    <img src="gwc_meeting.jpg" alt="Girls Who Code meeting">
                  </div>
                  <button class="view-toggle-btn" data-view-toggle>See Text</button>
                </div>
              </div>
            </div>
          </article>

          <!-- STEAMobile -->
          <article class="accordion-item" data-accordion>
            <div class="accordion-header">
              <div class="accordion-header-left">
                <span class="accordion-label">Nonprofit</span>
                <h3 class="accordion-title">STEAMobile</h3>
                <span class="accordion-meta">Co-Founder Â· Curriculum Design Â· Program Lead</span>
              </div>
              <span class="accordion-toggle">â–¼</span>
            </div>
            <div class="accordion-content">
              <div class="accordion-inner">
                <div class="accordion-text">
                  <p>A female-led STEAM education nonprofit I co-founded to make hands-on learning more accessible.</p>
                  <ul>
                    <li><strong>Built the organization from the ground up:</strong> Shaped the business plan, brand, and curriculum.</li>
                    <li><strong>Hosted camps and workshops:</strong> Centered curiosity, creativity, and confidence in STEAM.</li>
                    <li><strong>Partnered with organizations:</strong> Worked with groups like the Bellevue Collection to bring STEM experiences to hundreds of K-8 students.</li>
                  </ul>
                </div>
              </div>
            </div>
          </article>

          <!-- Data Structures TA -->
          <article class="accordion-item" data-accordion>
            <div class="accordion-header">
              <div class="accordion-header-left">
                <span class="accordion-label">Teaching</span>
                <h3 class="accordion-title">Data Structures Teaching Assistant</h3>
              </div>
              <span class="accordion-toggle">â–¼</span>
            </div>
            <div class="accordion-content">
              <div class="accordion-inner">
                <div class="accordion-text">
                  <ul>
                    <li><strong>Data Structures TA:</strong> Supported peers one-on-one with challenging concepts, labs, and projects.</li>
                    <li><strong>Mentorship and Communication:</strong> Reinforced my passion for breaking down complex ideas in approachable ways.</li>
                  </ul>
                </div>
              </div>
            </div>
          </article>

        </div>
      </section>

      <!-- Projects -->
      <section id="projects">
        <p class="chapter">Chapter Three</p>
        <h2 class="section-title">Things I've Worked On</h2>

        <div class="projects-grid">

          <article class="project-card">
            <p class="project-number">Project 01</p>
            <h3 class="project-title">LessonLoop</h3>
            <p class="project-desc" data-truncate>Contributing to an AI-powered ed-tech professional learning platform to improve student engagement, collaborating with a cross-functional team under mentorship from the Founder and CTO. Developing and prototyping a web application on AWS using Vue and Nuxt (frontend), Node.js (backend), DynamoDB (database), and Amazon Bedrock for AI agent deployment.</p>
            <button class="project-read-more" data-read-more>Read more</button>
            <div class="project-tags">
              <span class="tag">Vue</span>
              <span class="tag">Nuxt</span>
              <span class="tag">Node.js</span>
              <span class="tag">AWS</span>
              <span class="tag">DynamoDB</span>
            </div>
          </article>

          <article class="project-card">
            <p class="project-number">Project 02</p>
            <h3 class="project-title">MagicFold</h3>
            <p class="project-desc" data-truncate>Developed a web-based zine maker enabling users to design 8-panel digital zines (foldable art books), preview as interactive flip books, and download print-ready PDFs for physical assembly. Integrated Fabric.js for drawing tools, jsPDF for PDF generation, react-pageflip for animations, and URL-based sharing using client-side compression.</p>
            <button class="project-read-more" data-read-more>Read more</button>
            <div class="project-tags">
              <span class="tag">React</span>
              <span class="tag">Next.js</span>
              <span class="tag">TypeScript</span>
              <span class="tag">Tailwind CSS</span>
            </div>
            <a href="https://magic-fold.vercel.app/" class="project-link">View Project â†’</a>
          </article>

          <article class="project-card">
            <p class="project-number">Project 03</p>
            <h3 class="project-title">The Myth of the Undefeated Boxer</h3>
            <p class="project-desc" data-truncate>Web-scraped and analyzed 4,500+ boxing matches using BeautifulSoup and pandas to investigate undefeated record drivers for Cornell Data Journal alongside a 4-person team. Performed statistical analysis (t-tests, correlation) and created visualizations showing undefeated fighters have shorter careers and more title fights, indicating strategic matchmaking.</p>
            <button class="project-read-more" data-read-more>Read more</button>
            <div class="project-tags">
              <span class="tag">Python</span>
              <span class="tag">BeautifulSoup</span>
              <span class="tag">pandas</span>
              <span class="tag">Data Analysis</span>
            </div>
            <a href="https://drive.google.com/file/d/1AklK5eIyK92vlWpr6OAhOCkkg2isP6X9/view" target="_blank" rel="noopener noreferrer" class="project-link">View Project â†’</a>
          </article>

          <article class="project-card">
            <p class="project-number">Project 04</p>
            <h3 class="project-title">Sudoku Solver</h3>
            <p class="project-desc" data-truncate>Built a web-based Sudoku solver that visualizes the backtracking algorithm in real-time. Implemented step-by-step animation system highlighting constraint propagation and backtracking steps by recording solver state changes during recursion, with adjustable speed and difficulty via API integration.</p>
            <button class="project-read-more" data-read-more>Read more</button>
            <div class="project-tags">
              <span class="tag">Flask</span>
              <span class="tag">JavaScript</span>
              <span class="tag">Python</span>
              <span class="tag">Algorithms</span>
            </div>
            <a href="https://sudoku-solver-sable.vercel.app" target="_blank" rel="noopener noreferrer" class="project-link">View Project â†’</a>
          </article>

          <article class="project-card">
            <p class="project-number">Project 05</p>
            <h3 class="project-title">Miscellaneous Computational Humanities Experiments</h3>
            <p class="project-desc" data-truncate>Building fun computational humanities projects inspired by Cornell's INFO 1340: Books as Data course. Will update semi-regularly at this link.</p>
            <button class="project-read-more" data-read-more>Read more</button>
            <div class="project-tags">
              <span class="tag">Python</span>
            </div>
            <a href="https://fossil-talk-27b.notion.site/Books-as-Data-Projects-2fdcdfdeea7e8075bcc1e91c6627f4e3" class="project-link" target="_blank" rel="noopener noreferrer">View Projects â†’</a>
          </article>

        </div>
      </section>

      <!-- Contact -->
      <section id="contact">
        <p class="chapter">Epilogue</p>
        <h2 class="section-title">Get in Touch</h2>

        <div class="contact-content">
          <div class="contact-illustration">
            <img id="paper-plane" src="message (1).png" alt="Paper plane icon">
          </div>

          <p class="contact-text">I'm always interested in hearing about new projects and opportunities. Whether you have a question or just want to say hi, feel free to reach out.</p>

          <div class="contact-links">
            <a href="mailto:mp2343@cornell.edu" class="contact-button">Email Me</a>
            <a href="https://www.linkedin.com/in/manya-pradeep-narayan/" target="_blank" rel="noopener noreferrer" class="contact-button">LinkedIn</a>
            <a href="https://github.com/manyapn" target="_blank" rel="noopener noreferrer" class="contact-button">GitHub</a>
          </div>
        </div>
      </section>

      <!-- Footer -->
      <footer>
        <div class="footer-text">
          Â© 2025 Manya Pradeep Narayan Â· Designed &amp; Developed with Care
        </div>
        <div class="page-number">- Page 1 of 1 -</div>
      </footer>

    </main>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Typing effect
      function initTypingAnimation() {
        const texts = ["Hello, I'm Manya!"];
        const typingElement = document.getElementById('typingText');
        let textIndex = 0;
        let charIndex = 0;
        let isDeleting = false;

        function typeText() {
          const currentText = texts[textIndex];

          if (isDeleting) {
            typingElement.textContent = currentText.substring(0, charIndex - 1);
            charIndex--;
          } else {
            typingElement.textContent = currentText.substring(0, charIndex + 1);
            charIndex++;
          }

          let typeSpeed = isDeleting ? 50 : 100;

          if (!isDeleting && charIndex === currentText.length) {
            typeSpeed = 7000; // Pause at end
            isDeleting = true;
          } else if (isDeleting && charIndex === 0) {
            isDeleting = false;
            textIndex = (textIndex + 1) % texts.length;
            typeSpeed = 1000; // Pause before next text
          }

          setTimeout(typeText, typeSpeed);
        }

        setTimeout(typeText, 1000);
      }

      initTypingAnimation();

      // Mobile menu toggle
      const menuToggle = document.getElementById('menuToggle');
      const mobileMenu = document.getElementById('mobileMenu');

      if (menuToggle && mobileMenu) {
        menuToggle.addEventListener('click', () => {
          mobileMenu.classList.toggle('open');
          menuToggle.textContent = mobileMenu.classList.contains('open') ? 'âœ•' : 'â˜°';
        });

        // Close menu when clicking outside
        document.addEventListener('click', (e) => {
          if (!menuToggle.contains(e.target) && !mobileMenu.contains(e.target)) {
            mobileMenu.classList.remove('open');
            menuToggle.textContent = 'â˜°';
          }
        });
      }

      // Theme toggle palettes
      const themeToggle = document.getElementById('themeToggle');
      const themeToggleMobile = document.getElementById('themeToggleMobile');
      const body = document.body;

      const heroImg = document.querySelector('.hero-illustration img');

      function updateHeroImage() {
        if (!heroImg) return;
        const isDark = body.getAttribute('data-theme') === 'dark';
        heroImg.src = isDark ? 'dark-mode.png' : 'light-mode.PNG';
        heroImg.alt = isDark ? 'Dark Mode Illustration' : 'Light Mode Illustration';
      }

      const palettes = [
        { theme: 'light', class: '', nextLabel: 'Switch to Sepia' },
        { theme: 'light', class: 'palette-sepia', nextLabel: 'Switch to Sky' },
        { theme: 'light', class: 'palette-sky', nextLabel: 'Switch to Warm' },
        { theme: 'light', class: 'palette-warm-neutrals', nextLabel: 'Switch to Pastel' },
        { theme: 'light', class: 'palette-pastel', nextLabel: 'Switch to Lavender' },
        { theme: 'light', class: 'palette-lavender', nextLabel: 'Switch to Spot' },
        { theme: 'light', class: 'palette-spot', nextLabel: 'Switch to Clean' },
        { theme: 'light', class: 'palette-clean', nextLabel: 'Switch to Dark' },
        { theme: 'dark', class: '', nextLabel: 'Switch to Light' }
      ];

      let paletteIdx = Number(localStorage.getItem('paletteIdx') || 0);

      function setPalette(idx) {
        paletteIdx = idx;
        const p = palettes[idx];
        body.setAttribute('data-theme', p.theme);
        body.classList.remove('palette-sepia', 'palette-sky', 'palette-warm-neutrals', 'palette-pastel', 'palette-lavender', 'palette-spot', 'palette-clean');
        if (p.class) body.classList.add(p.class);

        // Update both desktop and mobile buttons
        if (themeToggle) themeToggle.innerHTML = p.nextLabel;
        if (themeToggleMobile) themeToggleMobile.innerHTML = p.nextLabel;
        localStorage.setItem('paletteIdx', String(paletteIdx));

        // update hero image based on theme
        updateHeroImage();
      }

      setPalette(paletteIdx);

      function cyclePalette() {
        paletteIdx = (paletteIdx + 1) % palettes.length;
        setPalette(paletteIdx);
      }

      if (themeToggle) themeToggle.addEventListener('click', cyclePalette);
      if (themeToggleMobile) themeToggleMobile.addEventListener('click', cyclePalette);

      // Font size controls
      const fontDecrease = document.getElementById('fontDecrease');
      const fontIncrease = document.getElementById('fontIncrease');
      const fontDecreaseMobile = document.getElementById('fontDecreaseMobile');
      const fontIncreaseMobile = document.getElementById('fontIncreaseMobile');
      const htmlElement = document.documentElement;

      let currentFontSize = parseInt(localStorage.getItem('fontSize')) || 18;
      htmlElement.style.fontSize = currentFontSize + 'px';

      function decreaseFontSize() {
        if (currentFontSize > 14) {
          currentFontSize -= 2;
          htmlElement.style.fontSize = currentFontSize + 'px';
          localStorage.setItem('fontSize', currentFontSize);
        }
      }

      function increaseFontSize() {
        if (currentFontSize < 20) {
          currentFontSize += 2;
          htmlElement.style.fontSize = currentFontSize + 'px';
          localStorage.setItem('fontSize', currentFontSize);
        }
      }

      if (fontDecrease) fontDecrease.addEventListener('click', decreaseFontSize);
      if (fontIncrease) fontIncrease.addEventListener('click', increaseFontSize);
      if (fontDecreaseMobile) fontDecreaseMobile.addEventListener('click', decreaseFontSize);
      if (fontIncreaseMobile) fontIncreaseMobile.addEventListener('click', increaseFontSize);

      // Randomize battery level on each load
      const batteryLevelEl = document.querySelector('.battery span');
      const batteryFillEl = document.querySelector('.battery-fill');
      if (batteryLevelEl && batteryFillEl) {
        const level = Math.floor(40 + Math.random() * 56); // 40â€“95%
        batteryLevelEl.textContent = level + '%';
        batteryFillEl.style.width = level + '%';

        if (level < 25) {
          batteryFillEl.style.backgroundColor = '#b63a2b'; // low battery
        } else if (level < 55) {
          batteryFillEl.style.backgroundColor = '#c48b2e'; // medium
        } else {
          batteryFillEl.style.backgroundColor = 'var(--text-light)'; // normal
        }
      }

      // Progress bar
      window.addEventListener('scroll', () => {
        const windowHeight = window.innerHeight;
        const documentHeight = document.documentElement.scrollHeight;
        const scrollTop = window.scrollY;
        const progress = (scrollTop / (documentHeight - windowHeight)) * 100;
        document.getElementById('progressBar').style.width = progress + '%';
      });

      // Bookmark navigation
      const bookmarks = document.querySelectorAll('.bookmark-item');
      const sections = Array.from(document.querySelectorAll('section[id]'));

      const headerEl = document.querySelector('header');
      const HEADER_OFFSET = headerEl ? headerEl.offsetHeight + 20 : 80;

      bookmarks.forEach(bookmark => {
        bookmark.addEventListener('click', () => {
          const sectionId = bookmark.getAttribute('data-section');
          const section = document.getElementById(sectionId);
          if (!section) return;

          const sectionTop = section.getBoundingClientRect().top + window.pageYOffset;

          window.scrollTo({
            top: sectionTop - HEADER_OFFSET,
            behavior: 'smooth'
          });
        });
      });

      // Update active bookmark on scroll
      window.addEventListener('scroll', () => {
        let currentId = sections[0]?.id;

        sections.forEach(section => {
          const sectionTop = section.offsetTop - HEADER_OFFSET - 100;
          if (window.pageYOffset >= sectionTop) {
            currentId = section.id;
          }
        });

        bookmarks.forEach(bookmark => {
          bookmark.classList.toggle(
            'active',
            bookmark.getAttribute('data-section') === currentId
          );
        });
      });

      // Highlights panel toggle
      const highlightsToggle = document.getElementById('highlightsToggle');
      const highlightsPanel = document.getElementById('highlightsPanel');

      if (highlightsToggle && highlightsPanel) {
        highlightsToggle.addEventListener('click', () => {
          highlightsPanel.classList.toggle('open');
        });
      }

      // Smooth scrolling for in-page links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            const rectTop = target.getBoundingClientRect().top + window.pageYOffset;
            const headerEl = document.querySelector('header');
            const offset = headerEl ? headerEl.offsetHeight + 20 : 80;
            window.scrollTo({
              top: rectTop - offset,
              behavior: 'smooth'
            });
          }
        });
      });

      // Time in header
      function updateTime() {
        const now = new Date();
        const time = now.toLocaleTimeString('en-US', {
          hour: 'numeric',
          minute: '2-digit',
          hour12: true
        });
        const timeElement = document.querySelector('.time');
        if (timeElement) timeElement.textContent = time;
      }

      updateTime();
      setInterval(updateTime, 60000);

      // === Text highlighting + highlights sidebar with persistence ===
      const highlightBtn = document.getElementById("highlightBtn");
      let highlights = []; // { id, text, sectionId }

      const HIGHLIGHTS_STORAGE_KEY = "manyaHighlightsV1";

      function saveHighlights() {
        try {
          localStorage.setItem(HIGHLIGHTS_STORAGE_KEY, JSON.stringify(highlights));
        } catch (e) {
          console.warn("Could not save highlights", e);
        }
      }

      function removeHighlightById(id) {
        highlights = highlights.filter(h => h.id !== id);
        renderHighlightsList();
        saveHighlights();
      }

      function removeHighlightGroup(id) {
        document.querySelectorAll(`.highlight-mark[data-highlight-id="${id}"]`)
          .forEach(span => {
            const parent = span.parentNode;
            while (span.firstChild) {
              parent.insertBefore(span.firstChild, span);
            }
            span.remove();
          });
      }

      function attachHighlightSpanEvents(span, id) {
        span.dataset.highlightId = id;
        span.addEventListener("click", () => {
          removeHighlightGroup(id);
          removeHighlightById(id);
        });
      }

      function applyInlineHighlight(range, id) {
        // Root for walking text nodes
        const root = range.commonAncestorContainer.nodeType === Node.TEXT_NODE
          ? range.commonAncestorContainer.parentNode
          : range.commonAncestorContainer;

        const walker = document.createTreeWalker(
          root,
          NodeFilter.SHOW_TEXT,
          {
            acceptNode(node) {
              if (!range.intersectsNode(node)) return NodeFilter.FILTER_SKIP;
              if (!node.nodeValue.trim()) return NodeFilter.FILTER_SKIP;
              if (node.parentElement && node.parentElement.closest(".highlight-mark")) {
                return NodeFilter.FILTER_SKIP;
              }
              return NodeFilter.FILTER_ACCEPT;
            }
          }
        );

        const textNodes = [];
        let n;
        while ((n = walker.nextNode())) {
          textNodes.push(n);
        }

        const startNode = range.startContainer;
        const endNode = range.endContainer;

        let started = false;

        textNodes.forEach(node => {
          let from = 0;
          let to = node.nodeValue.length;

          if (!started) {
            if (node === startNode) {
              started = true;
              from = range.startOffset;
            } else {
              return; // haven't reached selection yet
            }
          } else {
            from = 0; // nodes after the start
          }

          if (!started) return;

          if (node === endNode) {
            to = range.endOffset;
          }

          if (to <= from) return;

          let target = node;

          // split left side
          if (from > 0) {
            target = target.splitText(from);
            to -= from;
          }

          // split right side
          if (to < target.nodeValue.length) {
            target.splitText(to);
          }

          const span = document.createElement("span");
          span.classList.add("highlight-mark");
          span.dataset.highlightId = id;
          target.parentNode.replaceChild(span, target);
          span.appendChild(target);
          attachHighlightSpanEvents(span, id);

          if (node === endNode) {
            started = false;
          }
        });
      }

      // Map section id to human-friendly label
      function getSectionLabel(sectionId) {
        if (!sectionId) return "Other";

        const section = document.getElementById(sectionId);
        if (!section) return "Other";

        // Prefer the visible section title if present
        const titleEl = section.querySelector(".section-title");
        if (titleEl && titleEl.textContent.trim()) {
          return titleEl.textContent.trim();
        }

        // Fallback: chapter label (e.g. "Chapter One")
        const chapterEl = section.querySelector(".chapter");
        if (chapterEl && chapterEl.textContent.trim()) {
          return chapterEl.textContent.trim();
        }

        // Last resort: prettify the raw id
        return sectionId.charAt(0).toUpperCase() + sectionId.slice(1);
      }

      function renderHighlightsList() {
        const list = document.getElementById("highlightsList");
        if (!list) return;

        list.innerHTML = "";

        if (!highlights.length) {
          const empty = document.createElement("li");
          empty.className = "highlight-item";
          empty.textContent = "No highlights yet.";
          empty.style.color = "var(--text-light)";
          list.appendChild(empty);
          return;
        }

        // Group highlights by sectionId, preserving order of first appearance
        const groups = {};
        const order = [];

        highlights.forEach(h => {
          const key = h.sectionId || "__other__";
          if (!groups[key]) {
            groups[key] = [];
            order.push(key);
          }
          groups[key].push(h);
        });

        order.forEach(sectionKey => {
          const sectionId = sectionKey === "__other__" ? null : sectionKey;
          const label = getSectionLabel(sectionId);

          // Section heading
          const headingLi = document.createElement("li");
          headingLi.className = "highlight-section-heading";
          headingLi.textContent = label;
          list.appendChild(headingLi);

          // Highlights under this section
          groups[sectionKey].forEach(h => {
            const li = document.createElement("li");
            li.className = "highlight-item";

            const snippet =
              h.text.length > 90 ? h.text.slice(0, 87).trimEnd() + "â€¦" : h.text;

            li.textContent = snippet;

            li.addEventListener("click", () => {
              const span = document.querySelector(
                `.highlight-mark[data-highlight-id="${h.id}"]`
              );

              if (span) {
                span.scrollIntoView({ behavior: "smooth", block: "center" });
                span.classList.add("highlight-focus");
                setTimeout(() => span.classList.remove("highlight-focus"), 900);
              } else if (h.sectionId) {
                // fallback: scroll to the section if the exact span isn't found
                const sec = document.getElementById(h.sectionId);
                if (sec) {
                  const rectTop = sec.getBoundingClientRect().top + window.pageYOffset;
                  const headerEl = document.querySelector('header');
                  const offset = headerEl ? headerEl.offsetHeight + 20 : 80;
                  window.scrollTo({
                    top: rectTop - offset,
                    behavior: "smooth"
                  });
                }
              }
            });

            list.appendChild(li);
          });
        });
      }

      function restoreHighlights() {
        let saved;
        try {
          saved = JSON.parse(localStorage.getItem(HIGHLIGHTS_STORAGE_KEY) || "[]");
        } catch (e) {
          saved = [];
        }

        if (!Array.isArray(saved) || !saved.length) {
          highlights = [];
          renderHighlightsList();
          return;
        }

        const successfullyRestored = [];

        saved.forEach(h => {
          const section = h.sectionId ? document.getElementById(h.sectionId) : document.body;
          if (!section) return;

          // Collect all text nodes in this section in order
          const walker = document.createTreeWalker(section, NodeFilter.SHOW_TEXT, null);
          const textNodes = [];
          let node;
          while ((node = walker.nextNode())) {
            // ignore text inside existing highlights (in case of duplicate runs)
            if (node.parentElement && node.parentElement.closest(".highlight-mark")) continue;
            textNodes.push(node);
          }

          if (!textNodes.length) return;

          const fullText = textNodes.map(n => n.nodeValue).join("");
          const searchText = h.text;
          const startIdx = fullText.indexOf(searchText);

          if (startIdx === -1) return; // text not found in this section

          const endIdx = startIdx + searchText.length;

          let currentIdx = 0;
          let startNode = null, startOffset = 0;
          let endNode = null, endOffset = 0;

          for (const tn of textNodes) {
            const nodeText = tn.nodeValue;
            const nodeStart = currentIdx;
            const nodeEnd = currentIdx + nodeText.length;

            // Find start
            if (startNode === null && startIdx >= nodeStart && startIdx <= nodeEnd) {
              startNode = tn;
              startOffset = startIdx - nodeStart;
            }

            // Find end (end index is exclusive)
            if (endNode === null && endIdx >= nodeStart && endIdx <= nodeEnd) {
              endNode = tn;
              endOffset = endIdx - nodeStart;
            }

            currentIdx = nodeEnd;
          }

          if (!startNode || !endNode) return;

          const range = document.createRange();
          range.setStart(startNode, startOffset);
          range.setEnd(endNode, endOffset); // use endOffset for proper range

          // Create inline-only highlights (no block wrapping)
          applyInlineHighlight(range, h.id);
          successfullyRestored.push(h);
        });

        highlights = successfullyRestored;
        saveHighlights();
        renderHighlightsList();
      }

      if (highlightBtn) {
        highlightBtn.addEventListener("click", () => {
          const selection = window.getSelection();
          if (!selection || !selection.rangeCount) return;

          const selectedText = selection.toString();
          if (!selectedText.trim()) return;

          const range = selection.getRangeAt(0).cloneRange();
          const id = "hl-" + Date.now() + "-" + Math.random().toString(36).slice(2, 8);

          applyInlineHighlight(range, id);
          selection.removeAllRanges();

          const section = range.commonAncestorContainer.nodeType === Node.ELEMENT_NODE
            ? range.commonAncestorContainer.closest("section")
            : (range.commonAncestorContainer.parentElement && range.commonAncestorContainer.parentElement.closest("section"));

          const sectionId = section ? section.id : null;

          highlights.push({
            id,
            text: selectedText,
            sectionId
          });

          renderHighlightsList();
          saveHighlights();
        });
      }

      // Run once on load to restore saved highlights
      try {
        restoreHighlights();
      } catch (e) {
        console.error("Error restoring highlights; skipping highlight restoration.", e);
      }

      // Simple image carousel logic for DECA (and any future carousels)
      const carousels = document.querySelectorAll('[data-carousel]');
      carousels.forEach(carousel => {
        const images = carousel.querySelectorAll('.carousel-image');
        if (!images.length) return;

        let index = 0;
        const counter = carousel.querySelector('[data-carousel-counter]');
        const prevBtn = carousel.querySelector('[data-direction="prev"]');
        const nextBtn = carousel.querySelector('[data-direction="next"]');

        function show(idx) {
          images.forEach((img, i) => {
            img.classList.toggle('active', i === idx);
          });
          if (counter) {
            counter.textContent = (idx + 1) + ' / ' + images.length;
          }
        }

        if (prevBtn) {
          prevBtn.addEventListener('click', () => {
            index = (index - 1 + images.length) % images.length;
            show(index);
          });
        }

        if (nextBtn) {
          nextBtn.addEventListener('click', () => {
            index = (index + 1) % images.length;
            show(index);
          });
        }

        // Allow clicking the image area to advance as well
        const inner = carousel.querySelector('.carousel-inner');
        if (inner) {
          inner.addEventListener('click', () => {
            index = (index + 1) % images.length;
            show(index);
          });
        }

        show(index);
      });

      // Accordion functionality
      const accordionItems = document.querySelectorAll('[data-accordion]');
      accordionItems.forEach(item => {
        const header = item.querySelector('.accordion-header');
        header.addEventListener('click', () => {
          // Close other open accordions (optional - remove if you want multiple open)
          accordionItems.forEach(other => {
            if (other !== item && other.classList.contains('open')) {
              other.classList.remove('open');
            }
          });
          item.classList.toggle('open');
        });
      });

      // Project "Read more" toggle functionality
      const readMoreBtns = document.querySelectorAll('[data-read-more]');
      readMoreBtns.forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.stopPropagation();
          const card = btn.closest('.project-card');
          const desc = card.querySelector('.project-desc');
          if (desc) {
            desc.classList.toggle('expanded');
            btn.textContent = desc.classList.contains('expanded') ? 'Show less' : 'Read more';
          }
        });
      });

      // Photo/Text toggle functionality
      const viewToggleBtns = document.querySelectorAll('[data-view-toggle]');
      viewToggleBtns.forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.stopPropagation();
          const inner = btn.closest('.accordion-inner');
          const textDiv = inner.querySelector('.accordion-text');
          const photosDiv = inner.querySelector('.accordion-photos');

          if (textDiv.classList.contains('hidden')) {
            textDiv.classList.remove('hidden');
            photosDiv.classList.remove('active');
          } else {
            textDiv.classList.add('hidden');
            photosDiv.classList.add('active');
          }
        });
      });

      // Section reveal on scroll
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('is-visible');
              observer.unobserve(entry.target);
            }
          });
        },
        {
          threshold: 0.15
        }
      );

      document.querySelectorAll('section').forEach(section => {
        section.classList.add('reveal-section');
        observer.observe(section);
      });
    }); 
  </script>

</body>
</html>